libname data "C:\DATEN\QUELLEN";

Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=MA_WND_3
	SPECLABEL="Moving Average (Smoothing window=3)"
	SPECTYPE=MOVEAVG
	SPECSOURCE=FSUI
	; 
FORECAST TRANSFORM = NONE
	NOINT  
	P = ( 1 2 3 )
	AR = ( 0.3333333333333333 0.3333333333333333 0.3333333333333333 ) ; 
ESTIMATE NOEST NOSTABLE 
	METHOD=CLS 
	CONVERGE=0.0010 
	MAXITER=50 
	DELTA=0.0010 
	SINGULAR=1.0E-7  ; 
run;


Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=MA_WND_4
	SPECLABEL="Moving Average (Smoothing window=4)"
	SPECTYPE=MOVEAVG
	SPECSOURCE=FSUI
	; 
FORECAST TRANSFORM = NONE
	NOINT  
	P = ( 1 2 3 4)
	AR = ( 0.25 0.25 0.25 0.25) ; 
ESTIMATE NOEST NOSTABLE 
	METHOD=CLS 
	CONVERGE=0.0010 
	MAXITER=50 
	DELTA=0.0010 
	SINGULAR=1.0E-7  ; 
run;


Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=MA_WND_5
	SPECLABEL="Moving Average (Smoothing window=5)"
	SPECTYPE=MOVEAVG
	SPECSOURCE=FSUI
	; 
FORECAST TRANSFORM = NONE
	NOINT  
	P = ( 1 2 3 4 5)
	AR = ( 0.2 0.2 0.2 0.2 0.2) ; 
ESTIMATE NOEST NOSTABLE 
	METHOD=CLS 
	CONVERGE=0.0010 
	MAXITER=50 
	DELTA=0.0010 
	SINGULAR=1.0E-7  ; 
run;

Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=MA_WND_6
	SPECLABEL="Moving Average (smoothing window=6)"
	SPECTYPE=MOVEAVG
	
	; 
FORECAST SYMBOL = Y TRANSFORM = NONE
	NOINT  
	P = ( 1 2 3 4 5 6 )
	AR = ( 0.16666666666666666 0.16666666666666666 0.16666666666666666 0.16666666666666666 0.16666666666666666 0.16666666666666666 ) ; 
ESTIMATE NOEST NOSTABLE 
	METHOD=CLS 
	CONVERGE=0.0010 
	MAXITER=50 
	DELTA=0.0010 
	SINGULAR=1.0E-7  ; 
run;



Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=RANDOMWALK
	SPECLABEL="Random Walk"
	SPECTYPE=RANDWALK

	; 
FORECAST SYMBOL = Y TRANSFORM = NONE
	NOINT 
	DIF = ( 1 )  ; 
ESTIMATE 
	METHOD=CLS 
	CONVERGE=0.0010 
	MAXITER=50 
	DELTA=0.0010 
	SINGULAR=1.0E-7  ; 
run;


Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=RANDOMWALKSEASONAL
	SPECLABEL="Naives Saison Modell (RSW)"
	SPECTYPE=RANDWALK

	; 
FORECAST SYMBOL = Y TRANSFORM = NONE
	NOINT 
	DIF = ( 1 s )  ; 
ESTIMATE 
	METHOD=CLS 
	CONVERGE=0.0010 
	MAXITER=50 
	DELTA=0.0010 
	SINGULAR=1.0E-7  ; 
run;

Proc HPFARIMASPEC
	MODELREPOSITORY = data.Modell_DB
	SPECNAME=AVERAGE
	SPECLABEL="Mean"
	SPECTYPE=ARIMA
	; 
FORECAST SYMBOL = Y TRANSFORM = NONE  ; 
ESTIMATE 
	METHOD=ML 
	CONVERGE=1.0E-4 
	MAXITER=150 
	DELTA=1.0E-4 
	SINGULAR=1.0E-7  ; 
run;
proc hpfesmspec repository=data.Modell_DB
                name=simple_esm
                label="Simple Exponential Smoothing";
   esm method=winters;
run;


Proc HPFSELECT
	MODELREPOSITORY = data.Modell_DB
	SELECTNAME=NAIVE
	SELECTLABEL="Naive Models"
	; 
	SELECT
		HOLDOUT=0
		HOLDOUTPCT=100.0
		CRITERION=RMSE;
    SPEC RANDOMWALK ;
	SPEC RANDOMWALKSEASONAL;
	SPEC AVERAGE;
    SPEC MA_WND_6;
    SPEC MA_WND_5;
    SPEC MA_WND_4;
    SPEC MA_WND_3;
	SPEC SIMPLE_ESM;
 
run;
